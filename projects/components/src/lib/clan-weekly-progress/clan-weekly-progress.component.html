<mat-card>
  <div class="card-header">
    <div class="h2">
      {{clanRewards?.title || 'Loading Clan Rewards'}}
    </div>
    <div>
        <button mat-raised-button [color]="tab === '' ? 'primary' : ''" class="mx-1"
          (click)="onSelectionChange(button.type)">This Week</button>
    </div>
  </div>
  <mat-card-content>
    <div class="rewards">
      <ng-container *ngIf="!isLoading; else loading">

        <ng-container [ngTemplateOutlet]="" [ngTemplateOutletContext]="clanRewards.rewards">

        </ng-container>
      </ng-container>
    </div>
  </mat-card-content>
</mat-card>

<ng-template #loading>
  <lib-loading></lib-loading>
</ng-template>

<ng-template #rewardTemplate let-rewards="rewards">
  <div class="reward" *ngFor="let reward of rewards">
    <div class="engram" [ngClass]="{'unlocked': reward.earned}"
      matTooltip="{{reward.definition.displayProperties.description}}">
      <div class="e-l"></div>
      <div class="e-c"></div>
      <div class="e-r"></div>
      <img class="icon" [src]="'https://bungie.net'+reward.definition.displayProperties.icon" />
    </div>
    {{reward.definition.displayProperties.name}}
  </div>
</ng-template>
